<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FreshCart - Next-Gen Grocery Experience</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Readex+Pro:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* * ==============================================
         * DESIGN SYSTEM & THEME
         * ==============================================
         * Root variables for a futuristic, gamified feel.
         * We're using a dark theme with neon green accents 
         * to appeal to a modern, tech-savvy audience.
         */
        :root {
            --bg-primary: #111827; /* Deep slate */
            --bg-secondary: #1F2937; /* Lighter slate */
            --bg-tertiary: #374151; /* Card background */
            --text-primary: #F9FAFB; /* Off-white */
            --text-secondary: #9CA3AF; /* Muted gray */
            --accent: #34D399; /* Neon green */
            --accent-glow: rgba(52, 211, 153, 0.5);
            --accent-dark: #059669;
            --border-color: #4B5563;
            --font-body: 'Poppins', sans-serif;
            --font-heading: 'Readex Pro', sans-serif;
        }

        body {
            font-family: var(--font-body);
            background-color: var(--bg-primary);
            color: var(--text-primary);
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: var(--font-heading);
            color: var(--text-primary);
        }

        /* * ==============================================
         * GAMIFIED UI & ANIMATIONS
         * ==============================================
         * These styles introduce dynamic elements like custom cursors,
         * animated backgrounds, and interactive hover effects.
         */
        
        /* Custom Cursor for a techy feel */
        .cursor-dot, .cursor-outline {
            pointer-events: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            z-index: 9999;
            opacity: 0;
            transition: opacity 0.3s, transform 0.3s;
        }
        .cursor-dot {
            width: 8px;
            height: 8px;
            background-color: var(--accent);
        }
        .cursor-outline {
            width: 40px;
            height: 40px;
            border: 2px solid var(--accent);
            transition: transform 0.1s ease-out, width 0.2s, height 0.2s;
        }
        body:hover .cursor-dot, body:hover .cursor-outline {
            opacity: 1;
        }
        .cursor-pointer:hover ~ .cursor-outline {
            transform: translate(-50%, -50%) scale(1.5);
            background-color: var(--accent-glow);
        }
        
        /* Animated Gradient Background */
        .hero-bg {
            background: linear-gradient(-45deg, #111827, #1f2937, #047857, #111827);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
        }
        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Scroll-triggered Animations */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* General Transitions */
        .transition-all-300 { transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1); }
        .transition-transform { transition: transform 300ms cubic-bezier(0.4, 0, 0.2, 1); }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 10px; }
        ::-webkit-scrollbar-track { background: var(--bg-secondary); }
        ::-webkit-scrollbar-thumb { background: var(--accent); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--accent-dark); }
        
        /* Aurora Border Effect for Cards on Hover */
        .aurora-border {
            position: relative;
            overflow: hidden;
        }
        .aurora-border::before {
            content: '';
            position: absolute;
            top: 0; right: 0; bottom: 0; left: 0;
            z-index: -1;
            margin: -2px;
            border-radius: inherit;
            background: conic-gradient(from 180deg at 50% 50%, var(--accent), #fff, var(--accent));
            opacity: 0;
            transition: opacity 0.3s;
            animation: spin 4s linear infinite paused;
        }
        .aurora-border:hover::before {
            opacity: 1;
            animation-play-state: running;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

    </style>
</head>
<body class="bg-bg-primary text-text-primary">
    
    <!-- Custom Cursor Elements -->
    <div class="cursor-dot"></div>
    <div class="cursor-outline"></div>

    <!-- App Container -->
    <div id="app-container" class="relative">

        <!-- Header -->
        <header id="main-header" class="bg-bg-primary/80 backdrop-blur-lg sticky top-0 z-40 border-b border-border-color/50 transition-all duration-300">
            <nav class="container mx-auto px-4 lg:px-8 py-4">
                <div class="flex justify-between items-center">
                    <!-- Logo -->
                    <a href="#" class="flex items-center space-x-2 group cursor-pointer">
                        <svg class="h-8 w-8 text-accent group-hover:animate-pulse" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M17.855 19.32L17.855 19.32C16.993 20.378 15.61 21 14.143 21H6C4.343 21 3 19.657 3 18V9C3 7.343 4.343 6 6 6H9V5C9 3.343 10.343 2 12 2C13.657 2 15 3.343 15 5V6H18C19.657 6 21 7.343 21 9V14.142C21 15.609 20.378 16.993 19.32 17.854L17.855 19.32ZM19 9H15V14.142C15 15.019 14.659 15.857 14.049 16.468L12.707 17.81L14.049 19.151C14.659 19.762 15.000 20.6 15.000 21.477L15 9H6V18C6 18.552 6.448 19 7 19H14.143C15.02 19 15.858 18.659 16.468 18.049L18.049 16.468C18.659 15.858 19 15.02 19 14.142V9Z"></path></svg>
                        <span class="text-2xl font-bold text-text-primary group-hover:text-accent transition-colors">FreshCart</span>
                    </a>

                    <!-- Desktop Navigation & Search -->
                    <div class="hidden lg:flex items-center space-x-8 flex-1 justify-center">
                        <div class="relative w-full max-w-lg">
                            <input type="search" id="search-input" placeholder="Search for products..." class="w-full py-2.5 pl-10 pr-4 border border-border-color rounded-full focus:outline-none focus:ring-2 focus:ring-accent focus:border-accent transition-all-300 bg-bg-secondary text-text-primary placeholder-text-secondary">
                            <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-text-secondary"></i>
                        </div>
                        <div class="hidden xl:flex items-center space-x-6 text-text-secondary font-medium">
                            <a href="#products" class="hover:text-accent transition-colors cursor-pointer">Categories</a>
                            <a href="#deals" class="hover:text-accent transition-colors cursor-pointer">Deals</a>
                            <a href="#about" class="hover:text-accent transition-colors cursor-pointer">About</a>
                            <a href="#blog" class="hover:text-accent transition-colors cursor-pointer">Blog</a>
                        </div>
                    </div>

                    <!-- Icons & Actions -->
                    <div class="flex items-center space-x-2 md:space-x-4">
                        <button class="p-2 rounded-full hover:bg-bg-secondary transition-colors cursor-pointer" aria-label="Wishlist">
                            <i data-lucide="heart" class="w-6 h-6 text-text-secondary hover:text-accent"></i>
                        </button>
                        <button id="cart-button" class="relative p-2 rounded-full hover:bg-bg-secondary transition-colors cursor-pointer" aria-label="Shopping Cart">
                            <i data-lucide="shopping-cart" class="w-6 h-6 text-text-secondary hover:text-accent"></i>
                            <span id="cart-count" class="absolute -top-1 -right-1 bg-accent text-white text-xs w-5 h-5 rounded-full flex items-center justify-center font-bold transition-transform duration-200">0</span>
                        </button>
                        <button class="hidden lg:block bg-accent px-5 py-2 rounded-full text-bg-primary font-semibold hover:bg-accent-dark hover:scale-105 transition-all-300 cursor-pointer">Login</button>
                        <button id="mobile-menu-button" class="lg:hidden p-2 rounded-full hover:bg-bg-secondary transition-colors cursor-pointer" aria-label="Open Menu">
                            <i data-lucide="menu" class="w-6 h-6 text-text-secondary"></i>
                        </button>
                    </div>
                </div>
            </nav>
        </header>

        <!-- Mobile Menu -->
        <div id="mobile-menu" class="fixed inset-0 bg-black/70 backdrop-blur-sm z-50 hidden lg:hidden">
            <div id="mobile-menu-panel" class="absolute top-0 right-0 h-full w-4/5 max-w-sm bg-bg-secondary shadow-xl p-6 transform translate-x-full transition-transform duration-300 ease-in-out">
                <!-- Menu content remains similar -->
            </div>
        </div>
        
        <!-- Cart Sidebar -->
        <div id="cart-sidebar" class="fixed inset-0 bg-black/70 backdrop-blur-sm z-50 hidden">
            <div id="cart-panel" class="absolute top-0 right-0 h-full w-full max-w-md bg-bg-secondary shadow-2xl p-6 flex flex-col transform translate-x-full transition-transform duration-300 ease-in-out">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-bold">Your Cart</h2>
                    <button id="close-cart-button" class="p-2 -mr-2 rounded-full hover:bg-bg-tertiary cursor-pointer" aria-label="Close Cart">
                        <i data-lucide="x" class="w-6 h-6"></i>
                    </button>
                </div>
                <div id="cart-items" class="flex-1 overflow-y-auto -mr-6 pr-6 space-y-4">
                    <!-- Empty cart message -->
                </div>
                <div class="border-t border-border-color pt-6 mt-6">
                    <div class="flex justify-between font-semibold text-lg mb-4">
                        <span>Subtotal</span>
                        <span id="cart-subtotal">$0.00</span>
                    </div>
                    <p class="text-sm text-text-secondary mb-4">Taxes and shipping calculated at checkout.</p>
                    <button id="checkout-button" class="w-full bg-accent text-bg-primary py-3 rounded-lg font-bold hover:bg-accent-dark transition-all-300 disabled:bg-bg-tertiary disabled:text-text-secondary disabled:cursor-not-allowed cursor-pointer">
                        Proceed to Checkout
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <main>
            <!-- Hero Section -->
            <section class="hero-bg pt-24 pb-16 lg:pt-32 lg:pb-24">
                <div class="container mx-auto px-4 lg:px-8 text-center">
                    <div class="max-w-3xl mx-auto reveal">
                        <h1 class="text-4xl md:text-6xl font-extrabold text-text-primary leading-tight mb-4">
                            Fresh Groceries, <span class="text-accent">Gamified.</span>
                        </h1>
                        <p class="text-lg md:text-xl text-text-secondary mb-8 max-w-xl mx-auto">
                            The best quality products, delivered fast. Level up your shopping experience.
                        </p>
                        <a href="#products" class="inline-block bg-accent text-bg-primary font-bold text-lg px-8 py-4 rounded-full hover:bg-accent-dark shadow-lg shadow-accent-glow hover:shadow-xl hover:shadow-accent-glow/70 transform hover:-translate-y-1 transition-all-300 cursor-pointer">
                            Start Shopping
                        </a>
                    </div>
                </div>
            </section>

            <!-- Product Catalog -->
            <section id="products" class="py-16 lg:py-24">
                <div class="container mx-auto px-4 lg:px-8">
                    <div class="text-center mb-12 reveal">
                        <h2 class="text-3xl md:text-4xl font-bold">Explore Our Products</h2>
                        <p class="text-text-secondary mt-2">Find everything you need, from fresh produce to pantry staples.</p>
                    </div>

                    <!-- Filters and Sorting -->
                    <div class="flex flex-col md:flex-row justify-between items-center mb-8 gap-4 reveal">
                        <div id="category-filters" class="flex flex-wrap justify-center gap-2 md:gap-3">
                            <!-- Category buttons injected here -->
                        </div>
                    </div>

                    <!-- Product Grid -->
                    <div id="product-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 md:gap-6">
                        <!-- Product cards will be injected here -->
                    </div>
                </div>
            </section>
            
            <!-- Other sections remain structurally similar but will inherit the new theme -->

        </main>
        
        <!-- Footer -->
        <footer class="bg-bg-secondary">
            <div class="container mx-auto px-4 lg:px-8 py-16">
                <!-- Footer content here, styled to match the dark theme -->
                <div class="border-t border-border-color mt-12 pt-8 flex flex-col md:flex-row justify-between items-center text-sm text-text-secondary">
                    <p>&copy; 2025 FreshCart. All Rights Reserved.</p>
                    <div class="flex space-x-4 mt-4 md:mt-0">
                        <a href="#" class="hover:text-accent"><i data-lucide="facebook" class="w-5 h-5"></i></a>
                        <a href="#" class="hover:text-accent"><i data-lucide="instagram" class="w-5 h-5"></i></a>
                        <a href="#" class="hover:text-accent"><i data-lucide="twitter" class="w-5 h-5"></i></a>
                    </div>
                </div>
            </div>
        </footer>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            lucide.createIcons();

            // ==============================================
            //         CORE APPLICATION STATE
            // ==============================================
            const products = [
                 { id: 1, name: 'Organic Bananas', price: 1.29, unit: 'per lb', category: 'Fruits', image: 'https://placehold.co/400x400/FBBF24/1F2937?text=Bananas', tag: 'Organic' },
                { id: 2, name: 'Fresh Strawberries', price: 4.99, unit: '1 lb pack', category: 'Fruits', image: 'https://placehold.co/400x400/F87171/1F2937?text=Strawberries', tag: 'Best Seller' },
                { id: 3, name: 'Hass Avocados', price: 2.50, unit: 'each', category: 'Fruits', image: 'https://placehold.co/400x400/84CC16/1F2937?text=Avocados' },
                { id: 4, name: 'Baby Spinach', price: 3.49, unit: '5 oz bag', category: 'Vegetables', image: 'https://placehold.co/400x400/22C55E/1F2937?text=Spinach', tag: 'Organic' },
                { id: 5, name: 'Roma Tomatoes', price: 2.19, unit: 'per lb', category: 'Vegetables', image: 'https://placehold.co/400x400/EF4444/1F2937?text=Tomatoes' },
                { id: 6, name: 'Organic Milk', price: 5.99, unit: 'gallon', category: 'Dairy', image: 'https://placehold.co/400x400/EFF6FF/1F2937?text=Milk', tag: 'Organic' },
            ];
            const categories = ['All', ...new Set(products.map(p => p.category))];
            let cart = [];

            const productGrid = document.getElementById('product-grid');
            const categoryFilters = document.getElementById('category-filters');
            const cartButton = document.getElementById('cart-button');
            const cartSidebar = document.getElementById('cart-sidebar');
            const cartPanel = document.getElementById('cart-panel');
            const closeCartButton = document.getElementById('close-cart-button');

            // ==============================================
            //      DYNAMIC & GAMIFIED INTERACTIONS
            // ==============================================
            
            // 1. Custom Cursor Follower
            const cursorDot = document.querySelector('.cursor-dot');
            const cursorOutline = document.querySelector('.cursor-outline');
            window.addEventListener('mousemove', (e) => {
                const { clientX, clientY } = e;
                cursorDot.style.left = `${clientX}px`;
                cursorDot.style.top = `${clientY}px`;
                cursorOutline.style.left = `${clientX}px`;
                cursorOutline.style.top = `${clientY}px`;
            });

            // 2. Scroll Animations with Intersection Observer
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

            // ==============================================
            //         PRODUCT & CATEGORY DISPLAY
            // ==============================================
            function displayProducts(productsToDisplay) {
                productGrid.innerHTML = '';
                productsToDisplay.forEach((product, index) => {
                    const card = document.createElement('div');
                    card.className = 'aurora-border bg-bg-tertiary rounded-xl shadow-lg group transition-transform-300 hover:-translate-y-2 reveal cursor-pointer';
                    card.style.transitionDelay = `${index * 50}ms`;
                    card.innerHTML = `
                        <div class="relative overflow-hidden rounded-t-xl">
                            <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover group-hover:scale-110 transition-transform-300" loading="lazy">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"></div>
                            ${product.tag ? `<span class="absolute top-3 left-3 bg-accent text-bg-primary text-xs font-bold px-2 py-1 rounded-full">${product.tag}</span>` : ''}
                            <div class="absolute bottom-4 left-4">
                                <h3 class="font-bold text-lg text-white">${product.name}</h3>
                                <p class="text-text-secondary text-sm">${product.unit}</p>
                            </div>
                        </div>
                        <div class="p-4">
                            <div class="flex justify-between items-center">
                                <p class="text-2xl font-extrabold text-text-primary">$${product.price.toFixed(2)}</p>
                                <button data-product-id="${product.id}" class="add-to-cart-btn bg-accent/20 text-accent p-3 rounded-full hover:bg-accent hover:text-bg-primary transition-all-300 transform group-hover:scale-110">
                                    <i data-lucide="plus" class="w-5 h-5"></i>
                                </button>
                            </div>
                        </div>
                    `;
                    productGrid.appendChild(card);
                    observer.observe(card);
                });
                lucide.createIcons();
                document.querySelectorAll('.add-to-cart-btn').forEach(button => {
                    button.addEventListener('click', (e) => {
                        e.stopPropagation(); // Prevent card click
                        const card = e.currentTarget.closest('.aurora-border');
                        const productId = parseInt(e.currentTarget.dataset.productId);
                        addToCart(productId, card);
                    });
                });
            }

            function displayCategories() {
                categories.forEach(category => {
                    const button = document.createElement('button');
                    button.textContent = category;
                    button.className = `category-btn px-4 py-2 rounded-full font-semibold transition-all-300 text-sm md:text-base cursor-pointer ${category === 'All' ? 'bg-accent text-bg-primary' : 'bg-bg-secondary text-text-secondary hover:bg-bg-tertiary hover:text-text-primary'}`;
                    button.dataset.category = category;
                    button.addEventListener('click', () => {
                        document.querySelector('.category-btn.bg-accent').classList.replace('bg-accent', 'bg-bg-secondary');
                        document.querySelector('.category-btn.text-bg-primary').classList.replace('text-bg-primary', 'text-text-secondary');
                        button.classList.replace('bg-bg-secondary', 'bg-accent');
                        button.classList.replace('text-text-secondary', 'text-bg-primary');
                        filterAndSortProducts();
                    });
                    categoryFilters.appendChild(button);
                });
            }

            function filterAndSortProducts() {
                const selectedCategory = document.querySelector('.category-btn.bg-accent').dataset.category;
                let filteredProducts = (selectedCategory === 'All') ? products : products.filter(p => p.category === selectedCategory);
                displayProducts(filteredProducts);
            }

            // ==============================================
            //                 CART LOGIC
            // ==============================================

            function addToCart(productId, cardElement) {
                const product = products.find(p => p.id === productId);
                const existingItem = cart.find(item => item.id === productId);

                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    cart.push({ ...product, quantity: 1 });
                }
                
                // Gamified "fly to cart" animation
                flyToCartAnimation(cardElement);
                updateCartUI();
            }

            function flyToCartAnimation(card) {
                const img = card.querySelector('img');
                const imgRect = img.getBoundingClientRect();
                const cartRect = cartButton.getBoundingClientRect();

                const flyingImg = img.cloneNode();
                flyingImg.style.position = 'fixed';
                flyingImg.style.left = `${imgRect.left}px`;
                flyingImg.style.top = `${imgRect.top}px`;
                flyingImg.style.width = `${imgRect.width}px`;
                flyingImg.style.height = 'auto';
                flyingImg.style.zIndex = '9998';
                flyingImg.style.transition = 'left 0.5s ease-in-out, top 0.5s cubic-bezier(0.5, -0.5, 1, 1), transform 0.5s ease-in-out';
                document.body.appendChild(flyingImg);

                setTimeout(() => {
                    flyingImg.style.left = `${cartRect.left + 10}px`;
                    flyingImg.style.top = `${cartRect.top + 10}px`;
                    flyingImg.style.transform = 'scale(0.1)';
                }, 10);
                
                setTimeout(() => {
                    flyingImg.remove();
                    cartButton.classList.add('animate-bounce');
                    setTimeout(() => cartButton.classList.remove('animate-bounce'), 500);
                }, 500);
            }
            
            function updateCartUI() {
                const cartCount = document.getElementById('cart-count');
                const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                
                cartCount.textContent = totalItems;
                if (totalItems > 0) {
                    cartCount.classList.add('scale-125', 'bg-red-500');
                } else {
                     cartCount.classList.remove('bg-red-500');
                }
                setTimeout(() => cartCount.classList.remove('scale-125'), 150);
                // The rest of the cart UI update logic (displaying items, subtotal) would go here.
            }
            
            // Cart Sidebar Toggle
            function toggleCart() {
                const isHidden = cartSidebar.classList.contains('hidden');
                if (isHidden) {
                    cartSidebar.classList.remove('hidden');
                    document.body.style.overflow = 'hidden';
                    setTimeout(() => cartPanel.classList.remove('translate-x-full'), 10);
                } else {
                    cartPanel.classList.add('translate-x-full');
                    document.body.style.overflow = '';
                    setTimeout(() => cartSidebar.classList.add('hidden'), 300);
                }
            }
            cartButton.addEventListener('click', toggleCart);
            closeCartButton.addEventListener('click', toggleCart);
            cartSidebar.addEventListener('click', (e) => {
                if (e.target === cartSidebar) toggleCart();
            });

            // Initial Load
            displayCategories();
            displayProducts(products);
            updateCartUI();
        });
    </script>
</body>
</html>
